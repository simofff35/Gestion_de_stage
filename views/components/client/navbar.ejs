<ul class="navbar-nav ml-auto">
  <!-- Nav Item - Search Dropdown (Visible Only XS) -->
  <li class="nav-item dropdown no-arrow d-sm-none">
    <a
      class="nav-link dropdown-toggle"
      href="#"
      id="searchDropdown"
      role="button"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <i class="fas fa-search fa-fw"></i>
    </a>
    <!-- Dropdown - Messages -->
    <div
      class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in"
      aria-labelledby="searchDropdown"
    >
      <form class="form-inline mr-auto w-100 navbar-search">
        <div class="input-group">
          <input
            type="text"
            class="form-control bg-light border-0 small"
            placeholder="Search for..."
            aria-label="Search"
            aria-describedby="basic-addon2"
          />
          <div class="input-group-append">
            <button class="btn btn-primary" type="button">
              <i class="fas fa-search fa-sm"></i>
            </button>
          </div>
        </div>
      </form>
    </div>
  </li>

  <!-- Nav Item - Messages -->
  <li class="nav-item dropdown no-arrow mx-1">
    <a
      class="nav-link dropdown-toggle"
      href="#"
      id="messagesDropdown"
      role="button"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <i class="fas fa-envelope fa-fw"></i>
      <!-- Counter - Messages -->
      <span class="badge badge-danger badge-counter">7</span>
    </a>
    <!-- Dropdown - Messages -->
    <div
      class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
      aria-labelledby="messagesDropdown"
    >
      <h6 class="dropdown-header">Message Center</h6>
      <a class="dropdown-item d-flex align-items-center" href="#">
        <div class="font-weight-bold">
          <div class="text-truncate">
            Hi there! I am wondering if you can help me with a problem I've been
            having.
          </div>
          <div class="small text-gray-500">Emily Fowler · 58m</div>
        </div>
      </a>
      <a class="dropdown-item d-flex align-items-center" href="#">
        <div>
          <div class="text-truncate">
            I have the photos that you ordered last month, how would you like
            them sent to you?
          </div>
          <div class="small text-gray-500">Jae Chun · 1d</div>
        </div>
      </a>
      <a class="dropdown-item text-center small text-gray-500" href="#"
        >Read More Messages</a
      >
    </div>
  </li>

  <!-- Nav Item - Alerts -->
  <li class="nav-item mx-1">
    <a class="nav-link" href="/logout">
      <i class="fa-solid fa-power-off"></i>
    </a>
  </li>

  <div class="topbar-divider d-none d-sm-block"></div>

  <!-- Nav Item - User Information -->
  <li class="nav-item dropdown no-arrow">
    <a
      class="nav-link dropdown-toggle"
      href="#"
      id="userDropdown"
      role="button"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      <span class="mr-2 d-none d-lg-inline text-gray-600 small"
        ><%= name %></span
      >
      <img
        class="img-profile rounded-circle"
        src="<%= img || 'img/undraw_profile.svg' %>"
      />
    </a>

    <div
      class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
      aria-labelledby="userDropdown"
    >
      <a
        class="dropdown-item"
        href="#"
        data-toggle="modal"
        data-target="#exampleModal"
        id="modalTrigger"
      >
        <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
        Profile
      </a>
      <div class="dropdown-divider"></div>
      <a
        class="dropdown-item"
        href="#"
        data-toggle="modal"
        data-target="#logoutModal"
      >
        <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
        Déconnexion
      </a>
    </div>
  </li>
</ul>
<script>
  document
    .getElementById("modalTrigger")
    .addEventListener("click", function () {
      $("#exampleModal").modal("show");
    });
</script>

<!-- !Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Profile</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <!-- * -->
        <!-- * -->
        <!-- ? -->
        <div class="card-body text-center">
          <div>
            <img
              class="img-profile rounded-circle"
              src="<%= `/uploads/${stager.img}` || 'undraw_profile.svg' %>"
              alt="profile"
              style="max-width: 6rem; max-height: 5rem"
            />
            <div class="small font-italic text-muted mb-2">
              JPG or PNG no larger than 5 MB
            </div>
            <form
              action="/upload-profile-image"
              method="POST"
              enctype="multipart/form-data"
            >
              <label for="file-upload" class="btn btn-primary btn-sm">
                Change Profile Picture
              </label>
              <input
                type="file"
                id="file-upload"
                name="profileImage"
                accept="image/png, image/jpeg"
                style="display: none"
                onchange="this.form.submit();"
              />
            </form>
          </div>
        </div>

        <!-- ? -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
<!-- ! -->
